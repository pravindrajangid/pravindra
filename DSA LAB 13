
#include <iostream>
#include <stack>
using namespace std;

struct TwoStackQueue {
    stack<int> s1, s2;
    void enqueue(int x){ s1.push(x); }
    int dequeue(){
        if(s2.empty()){
            while(!s1.empty()){ s2.push(s1.top()); s1.pop(); }
        }
        if(s2.empty()) throw runtime_error("Underflow");
        int v=s2.top(); s2.pop(); return v;
    }
    int peek(){
        if(s2.empty()){
            while(!s1.empty()){ s2.push(s1.top()); s1.pop(); }
        }
        if(s2.empty()) throw runtime_error("Empty");
        return s2.top();
    }
    bool empty(){ return s1.empty() && s2.empty(); }
};

int main(){
    TwoStackQueue q;
    int choice, val;
    while(true){
        cout<<"\n1.Enqueue 2.Dequeue 3.Peek 4.Exit\nChoice: "; cin>>choice;
        if(choice==1){ cout<<"Value: "; cin>>val; q.enqueue(val); }
        else if(choice==2){
            try{ cout<<"Dequeued "<<q.dequeue()<<"\n"; } catch(...) { cout<<"Underflow\n"; }
        } else if(choice==3){
            try{ cout<<"Front = "<<q.peek()<<"\n"; } catch(...) { cout<<"Empty\n"; }
        } else break;
    }
    return 0;
}
